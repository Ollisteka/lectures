> *09.04.2019*

### Лексический анализ

**Лексема** — элементарная смысловая единица текста. Могут объединяться в классы эквивалентности — **токены**. Описываются токены с помощью **шаблонов**.

> Классы идентификаторов. Одноэлементные классы ключевых слов.

| Токен  | Пример (лексема) | Шаблон                                 |
| ------ | ---------------- | -------------------------------------- |
| if     | if               | `if`                                   |
| cop    | <=, >=, ==, …    | `<=?|>=?|[=!]=`                        |
| id     | pi, var23        | `[a-z]\d*`                             |
| number | 1.09, -2.75e-30  | `-?0|[1-9]\d*(.\d{1,})?(e-?[1-9]\d*)?` |

> Первая колонка — имя, которое будет приходить на вход синтаксическому анализатору. comparison operator

Вся собранная информация сохраняется в таблице символов.

Буферы для чтения текста. Два, чтобы можно было заменять один на другой?

|  |  |  |  |  |  |  |  |         |  |  |  |  |  |  |  |  | 
​	   $\uparrow$ 						$\uparrow$
​	*begin*					*current*



**Регистрация токена**

REG — функция, которая точно знает где начался и закончился токен. Делает запись в таблицу символов: какой это был оператор, где он находился в исходном тексте. Нужно для обработчика ошибок.

REG- — до предпоследнего символа.

Токен = <имя, атрибут>. Атрибут — ссылка на запись в таблице символов. Имя используется в лексическом анализе.



**Примеры**

![if_else_dka](C:/Users/Olga/Documents/lectures/loi/images/if_else_dka.jpg)



![comaprison_dka](C:/Users/Olga/Documents/lectures/loi/images/comaprison_dka.jpg)



**Ошибки**

- несуществующий переход в автомате

**Обработка ошибок**

> Не хотим сразу навсегда ломаться, а выдавать все ошибки за раз.

- режим паники — пропускаем всё, пока не встретим корректные символы



### Синтаксический анализ

**Задача** — определить принадлежность слова языку, который задан некоторой КС грамматикой. Грамматика описывает **синтаксис**! Также нужно построить дерево вывода и сообщить об ошибках.

**Типы анализаторов**

- универсальные (алгоритм КЯК);
- нисходящие (восстановление дерева от корня к листьям);
- восходящие.



**Разделённая грамматика**

$\forall A \in \Gamma: (\forall (A \rightarrow \gamma) \in P$ все $\gamma$ начинаются с разных терминалов$)$

> До этого было: $A \rightarrow \gamma$     $\forall a \in Z :(A, a) \rightarrow (\gamma, —)$

